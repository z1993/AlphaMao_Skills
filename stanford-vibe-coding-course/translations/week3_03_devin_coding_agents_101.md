---
原文链接: https://devin.ai/agents101#introduction
原文标题: Coding Agents 101: The Art of Actually Getting Things Done
所属周次: Week 3
阅读时间: 15min
优先级: ⭐必读
翻译日期: 2026-02-03
---

# 编码 Agent 101：真正把事做成的艺术 (Coding Agents 101)

**来源**: Devin AI Team
**发布时间**: 2025年

编码 Agent 正在改变软件开发的方式。本文由 Devin 团队撰写，旨在帮助工程师和团队了解如何有效地与自动编码 Agent 协作。

## 简介
开发者工具经历了快速的演变：
- 10年前：自动完成 (Autocomplete) 和智能感知。
- 4年前：Copilots 和 Tab 补全。
- 2年前：生成式聊天机器人 (ChatGPT)。
- **今天：自主 Agent**，能够从最初的描述到最终的 Pull Request，几乎无需人工干预。

虽然人类与 AI 助手搭配可以比单独的 AI 取得更多成就，但自主 Agent 处理端到端任务的能力允许一种新水平的多任务处理——**将每位工程师变成工程经理**。

## 提示基础 (Prompting Basics)
与编码 Agent 交互的核心准则：

### 1. 告诉它“怎么做”，而不仅仅是“做什么”
把 Agent 当作一个决策可能不可靠的初级编码伙伴。
- **简单任务**: 直接描述。
- **复杂任务**: 预先概述你喜欢的架构和逻辑。这不仅提高了成功率，还减少了你审查代码的时间。
- *例子*: 不要只说“添加单元测试”，而要指定要测试的功能、重要的边缘情况以及需要 Mock 的内容。

### 2. 告诉 Agent 从哪里开始
即使你不知道具体的文件名，也要提及存储库、相关文档和涉及的关键组件。
- *例子*: "请添加对 Google 模型支持。查看最新的文档[链接]并在模型组目录中创建一个新的实现文件。"

### 3. 练习防御性提示 (Defensive Prompting)
想象一下给新实习生同样的提示。哪里容易产生困惑或错误？预先澄清这些点。
- *例子*: "请修复 C++ 绑定...注意，每次更改代码后你可能需要重新编译绑定才能测试。"

### 4. 提供 CI、测试、类型和 Linter 的访问权限
Agent 的魔力很大程度上来自于它们**修复自己错误**并在错误消息中迭代的能力。
- 提供类型检查器、Lint 工具和单元测试的反馈循环能极大地提升性能。
- 考虑使用类型化的 Python 或 TypeScript。

### 5. 利用你的专业知识
当且仅当你熟悉代码库时，一切都会变得更容易。即使是简单的任务也受益于你验证逻辑和结果的能力。**人类监督仍然至关重要——最终，你对代码的最终正确性负责。**

## 在工作流中使用 Agent

### 立即承担新任务
当队友问“我们能快速构建 X 吗？”时，不要打断你的心流，直接发一个提示给自主 Agent 去调查或更改。

### 处理琐事 (Hand off your chores)
陷入二分法查找旧提交或为新功能更新文档？将这些重复性任务交给 Agent。

### 跳过分析瘫痪 (Analysis Paralysis)
无法在两种架构方法之间做出决定？让 Agent **实施这两种方案**。有了具体的例子进行比较，决策变得直观，而且丢弃一个方案也不会伤害任何人的感情。

### 设置预览部署
设置你的 CI/CD 管道，以便为每个新 PR 自动创建预览部署。这在审查 AI Agent 完成的前端任务时特别方便。

## 委托更大的工单 (Delegating Larger Tickets)

### 1. 自动化你的初稿
让 Agent 创建 PR 的初稿可以启动进度。把这看作是指导初级开发人员。
- **预期**: 对于具有挑战性的任务，不要期望完全自动化。目标是节省 80% 的时间，你的专业知识对于验证和最终 QA 至关重要。

### 2. 共同开发 PRD (Co-develop a PRD)
对于复杂或定义模糊的任务，与 Agent 合作创建详细计划。
- 从让 Agent 探索发现问题开始，如“我们的认证系统是如何工作的？”
- 使用专注于阅读和探索现有代码的规划模式（如 Devin 或 Claude Code 的规划模式）。

### 3. 设置检查点 (Set Checkpoints)
对于多部分任务，沿途建立明确的检查点：
**计划 → 实施块 → 测试 → 修复 → 检查点审查 → 下一个块**
明确要求在每个重要阶段后暂停，特别是对于跨越多个层（数据库、后端、前端）的复杂功能。

### 4. 教它验证自己的工作
在提供反馈时，不仅要指出问题，还要清楚地说明你的测试过程，以便 Agent 将来可以独立验证任务。

### 5. 增加 AI 热点的测试覆盖率
Agent 目前还不能完全交互式地彻底测试所有场景。增强 AI 频繁修改区域的测试覆盖率，可以确保看起来正确的代码可以被放心地合并。

## 自动化工作流

### 为最重复的工作创建快捷方式
常见的例子：
- 删除功能标志 (Feature Flag removal)
- 依赖升级
- 在新功能 PR 上修复和添加测试
经验丰富的工程师可以创建健壮的、可重用的提示模板（在 Devin 中称为 Playbooks）。

### 智能代码审查与执行
与其编写传统的 lint 规则来捕捉常见错误（这通常是不可能的），不如让 Agent 在每个新 PR 上运行以检查这些特定的错误模式。

### 挂钩事件和警报
设置自主 Agent 自动响应特定事件。例如，集成第三方错误日志，让 AI 标记最可疑的错误或变更，而不是要求它端到端地修复所有生产 Bug。

## 局限性与安全性
- **局限性**: 调试技能有限、细粒度的视觉推理能力较差、知识截止。
- **时间管理**: 愿意尽早止损。如果你不仅要花时间审查，还要花更多时间调试 Agent 的代码，不如重新开始或自己做。
- **安全性**: 为 Agent 创建独立账户，确授予开发/暂存环境权限，使用只读 API 密钥。

---

## 关键术语

| 英文 | 中文 | 说明 |
|------|------|------|
| Defensive Prompting | 防御性提示 | 预判 AI 可能犯错的地方并提前在 Prompt 中规避 |
| Checkpoints | 检查点 | 长任务中设立的中间审查点，确保方向正确 |
| Playbooks | 剧本/预设流程 | 针对重复任务的标准化 Prompt 模板 |
| Preview Deployments | 预览部署 | 为每个 PR 自动生成的临时测试环境 |
